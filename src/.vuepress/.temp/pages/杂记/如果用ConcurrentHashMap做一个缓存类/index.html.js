export const data = JSON.parse("{\"key\":\"v-51f1a186\",\"path\":\"/%E6%9D%82%E8%AE%B0/%E5%A6%82%E6%9E%9C%E7%94%A8ConcurrentHashMap%E5%81%9A%E4%B8%80%E4%B8%AA%E7%BC%93%E5%AD%98%E7%B1%BB/\",\"title\":\"如何用ConcurrentHashMap做一个缓存类\",\"lang\":\"zh-CN\",\"frontmatter\":{\"description\":\"如何用ConcurrentHashMap做一个缓存类 package com.thunisoft.zbxc.util; import com.thunisoft.zbxc.enums.JyhEnum; import com.thunisoft.zbxc.models.local.Hcgz; import com.thunisoft.zbxc.service.HcgzService; import com.thunisoft.zbxc.service.JajyContext; import lombok.extern.slf4j.Slf4j; import org.springframework.stereotype.Component; import javax.annotation.PostConstruct; import javax.annotation.Resource; import java.util.List; import java.util.Map; import java.util.concurrent.ConcurrentHashMap; import java.util.stream.Collectors; /** * GzCaCheUtil * * @Description 规则缓存类 * @author XieZhongCai * @date 2022/1/13 15:16 * @version v2.0.1 **/ @Component @Slf4j public class GzCaCheUtil { @Resource private HcgzService service; @Resource private JajyContext context; private static HcgzService hcgzService; private static JajyContext jajyContext; private static final Map&lt;String, Map&lt;String, List&lt;Hcgz&gt;&gt;&gt; GZ_MAP = new ConcurrentHashMap&lt;&gt;(16); @PostConstruct private void setContext() { setContext(context, service); init(); } private static void init() { log.info(\\\"【开始加载规则缓存...】\\\"); List&lt;Hcgz&gt; hcgzs = hcgzService.listGzpzs(); Map&lt;String, List&lt;Hcgz&gt;&gt; byCorp = hcgzs.stream().collect(Collectors.groupingBy(Hcgz::getCrop)); byCorp.forEach((jbfy, gzs) -&gt; { Map&lt;String, List&lt;Hcgz&gt;&gt; byGzbs = gzs.stream().collect(Collectors.groupingBy(Hcgz::getGzbs)); GZ_MAP.put(jbfy, byGzbs); log.info(\\\"法院id:{},加载规则条数：{}\\\", jbfy, gzs.size()); }); log.info(\\\"【加载规则缓存结束...】\\\"); } private static void setContext(JajyContext context, HcgzService hcgzService) { GzCaCheUtil.jajyContext = context; GzCaCheUtil.hcgzService = hcgzService; } /** * GzCaCheUtil * * @description 刷新规则缓存 * @author XieZhongCai * @date 2022/1/13 17:56 * @version V2.0.1 */ public static synchronized void refresh() { GZ_MAP.clear(); init(); } /** * GzCaCheUtil * * @description 根据规则标识获取结构化规则 * @param gzbs 规则标识 * @return 结构化规则 * @author XieZhongCai * @date 2022/1/13 15:54 * @version V2.0.1 */ public static Hcgz getGz(String gzbs) { String jbfy = ThreadLocalUtil.get(JyhEnum.JBFY.getCode()); Map&lt;String, List&lt;Hcgz&gt;&gt; listMap = GZ_MAP.get(jbfy); // 如果自己法院没有初始化规则，使用指定院规则 if (listMap.isEmpty()) { log.info(\\\"法院id：{}，没有初始化规则，使用指定院{}规则\\\", jbfy , jajyContext.getTjjzjkFybh()); listMap = GZ_MAP.get(jajyContext.getTjjzjkFybh()); } return listMap.get(gzbs).get(0); } }\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://mister-hope.github.io/%E6%9D%82%E8%AE%B0/%E5%A6%82%E6%9E%9C%E7%94%A8ConcurrentHashMap%E5%81%9A%E4%B8%80%E4%B8%AA%E7%BC%93%E5%AD%98%E7%B1%BB/\"}],[\"meta\",{\"property\":\"og:site_name\",\"content\":\"Jankin'Blog\"}],[\"meta\",{\"property\":\"og:title\",\"content\":\"如何用ConcurrentHashMap做一个缓存类\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"如何用ConcurrentHashMap做一个缓存类 package com.thunisoft.zbxc.util; import com.thunisoft.zbxc.enums.JyhEnum; import com.thunisoft.zbxc.models.local.Hcgz; import com.thunisoft.zbxc.service.HcgzService; import com.thunisoft.zbxc.service.JajyContext; import lombok.extern.slf4j.Slf4j; import org.springframework.stereotype.Component; import javax.annotation.PostConstruct; import javax.annotation.Resource; import java.util.List; import java.util.Map; import java.util.concurrent.ConcurrentHashMap; import java.util.stream.Collectors; /** * GzCaCheUtil * * @Description 规则缓存类 * @author XieZhongCai * @date 2022/1/13 15:16 * @version v2.0.1 **/ @Component @Slf4j public class GzCaCheUtil { @Resource private HcgzService service; @Resource private JajyContext context; private static HcgzService hcgzService; private static JajyContext jajyContext; private static final Map&lt;String, Map&lt;String, List&lt;Hcgz&gt;&gt;&gt; GZ_MAP = new ConcurrentHashMap&lt;&gt;(16); @PostConstruct private void setContext() { setContext(context, service); init(); } private static void init() { log.info(\\\"【开始加载规则缓存...】\\\"); List&lt;Hcgz&gt; hcgzs = hcgzService.listGzpzs(); Map&lt;String, List&lt;Hcgz&gt;&gt; byCorp = hcgzs.stream().collect(Collectors.groupingBy(Hcgz::getCrop)); byCorp.forEach((jbfy, gzs) -&gt; { Map&lt;String, List&lt;Hcgz&gt;&gt; byGzbs = gzs.stream().collect(Collectors.groupingBy(Hcgz::getGzbs)); GZ_MAP.put(jbfy, byGzbs); log.info(\\\"法院id:{},加载规则条数：{}\\\", jbfy, gzs.size()); }); log.info(\\\"【加载规则缓存结束...】\\\"); } private static void setContext(JajyContext context, HcgzService hcgzService) { GzCaCheUtil.jajyContext = context; GzCaCheUtil.hcgzService = hcgzService; } /** * GzCaCheUtil * * @description 刷新规则缓存 * @author XieZhongCai * @date 2022/1/13 17:56 * @version V2.0.1 */ public static synchronized void refresh() { GZ_MAP.clear(); init(); } /** * GzCaCheUtil * * @description 根据规则标识获取结构化规则 * @param gzbs 规则标识 * @return 结构化规则 * @author XieZhongCai * @date 2022/1/13 15:54 * @version V2.0.1 */ public static Hcgz getGz(String gzbs) { String jbfy = ThreadLocalUtil.get(JyhEnum.JBFY.getCode()); Map&lt;String, List&lt;Hcgz&gt;&gt; listMap = GZ_MAP.get(jbfy); // 如果自己法院没有初始化规则，使用指定院规则 if (listMap.isEmpty()) { log.info(\\\"法院id：{}，没有初始化规则，使用指定院{}规则\\\", jbfy , jajyContext.getTjjzjkFybh()); listMap = GZ_MAP.get(jajyContext.getTjjzjkFybh()); } return listMap.get(gzbs).get(0); } }\"}],[\"meta\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"meta\",{\"property\":\"og:locale\",\"content\":\"zh-CN\"}],[\"meta\",{\"property\":\"article:author\",\"content\":\"JanKin Xie\"}],[\"script\",{\"type\":\"application/ld+json\"},\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Article\\\",\\\"headline\\\":\\\"如何用ConcurrentHashMap做一个缓存类\\\",\\\"image\\\":[\\\"\\\"],\\\"dateModified\\\":null,\\\"author\\\":[{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"JanKin Xie\\\",\\\"url\\\":\\\"\\\"}]}\"]]},\"headers\":[],\"readingTime\":{\"minutes\":1.01,\"words\":304},\"filePathRelative\":\"杂记/如果用ConcurrentHashMap做一个缓存类/README.md\",\"excerpt\":\"<h1> 如何用ConcurrentHashMap做一个缓存类</h1>\\n<div class=\\\"language-java line-numbers-mode\\\" data-ext=\\\"java\\\"><pre class=\\\"language-java\\\"><code><span class=\\\"token keyword\\\">package</span> <span class=\\\"token namespace\\\">com<span class=\\\"token punctuation\\\">.</span>thunisoft<span class=\\\"token punctuation\\\">.</span>zbxc<span class=\\\"token punctuation\\\">.</span>util</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">com<span class=\\\"token punctuation\\\">.</span>thunisoft<span class=\\\"token punctuation\\\">.</span>zbxc<span class=\\\"token punctuation\\\">.</span>enums<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">JyhEnum</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">com<span class=\\\"token punctuation\\\">.</span>thunisoft<span class=\\\"token punctuation\\\">.</span>zbxc<span class=\\\"token punctuation\\\">.</span>models<span class=\\\"token punctuation\\\">.</span>local<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Hcgz</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">com<span class=\\\"token punctuation\\\">.</span>thunisoft<span class=\\\"token punctuation\\\">.</span>zbxc<span class=\\\"token punctuation\\\">.</span>service<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">HcgzService</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">com<span class=\\\"token punctuation\\\">.</span>thunisoft<span class=\\\"token punctuation\\\">.</span>zbxc<span class=\\\"token punctuation\\\">.</span>service<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">JajyContext</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">lombok<span class=\\\"token punctuation\\\">.</span>extern<span class=\\\"token punctuation\\\">.</span>slf4j<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Slf4j</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">org<span class=\\\"token punctuation\\\">.</span>springframework<span class=\\\"token punctuation\\\">.</span>stereotype<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Component</span></span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">javax<span class=\\\"token punctuation\\\">.</span>annotation<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">PostConstruct</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">javax<span class=\\\"token punctuation\\\">.</span>annotation<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Resource</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">java<span class=\\\"token punctuation\\\">.</span>util<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">List</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">java<span class=\\\"token punctuation\\\">.</span>util<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Map</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">java<span class=\\\"token punctuation\\\">.</span>util<span class=\\\"token punctuation\\\">.</span>concurrent<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">ConcurrentHashMap</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">java<span class=\\\"token punctuation\\\">.</span>util<span class=\\\"token punctuation\\\">.</span>stream<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Collectors</span></span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token doc-comment comment\\\">/**\\n * GzCaCheUtil\\n *\\n * @Description 规则缓存类\\n * <span class=\\\"token keyword\\\">@author</span> XieZhongCai\\n * <span class=\\\"token keyword\\\">@date</span> 2022/1/13 15:16\\n * <span class=\\\"token keyword\\\">@version</span> v2.0.1\\n **/</span>\\n<span class=\\\"token annotation punctuation\\\">@Component</span>\\n<span class=\\\"token annotation punctuation\\\">@Slf4j</span>\\n<span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">GzCaCheUtil</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n    <span class=\\\"token annotation punctuation\\\">@Resource</span>\\n    <span class=\\\"token keyword\\\">private</span> <span class=\\\"token class-name\\\">HcgzService</span> service<span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token annotation punctuation\\\">@Resource</span>\\n    <span class=\\\"token keyword\\\">private</span> <span class=\\\"token class-name\\\">JajyContext</span> context<span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">HcgzService</span> hcgzService<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">JajyContext</span> jajyContext<span class=\\\"token punctuation\\\">;</span>\\n\\n\\n    <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token keyword\\\">final</span> <span class=\\\"token class-name\\\">Map</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">Map</span><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">List</span><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Hcgz</span><span class=\\\"token punctuation\\\">&gt;</span><span class=\\\"token punctuation\\\">&gt;</span><span class=\\\"token punctuation\\\">&gt;</span></span> <span class=\\\"token constant\\\">GZ_MAP</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">ConcurrentHashMap</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token punctuation\\\">&gt;</span></span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">16</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token annotation punctuation\\\">@PostConstruct</span>\\n    <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">setContext</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token function\\\">setContext</span><span class=\\\"token punctuation\\\">(</span>context<span class=\\\"token punctuation\\\">,</span> service<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token function\\\">init</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">init</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        log<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">info</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"【开始加载规则缓存...】\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Hcgz</span><span class=\\\"token punctuation\\\">&gt;</span></span> hcgzs <span class=\\\"token operator\\\">=</span> hcgzService<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">listGzpzs</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token class-name\\\">Map</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">List</span><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Hcgz</span><span class=\\\"token punctuation\\\">&gt;</span><span class=\\\"token punctuation\\\">&gt;</span></span> byCorp <span class=\\\"token operator\\\">=</span> hcgzs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stream</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">collect</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Collectors</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">groupingBy</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Hcgz</span><span class=\\\"token operator\\\">::</span><span class=\\\"token function\\\">getCrop</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        byCorp<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>jbfy<span class=\\\"token punctuation\\\">,</span> gzs<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-&gt;</span> <span class=\\\"token punctuation\\\">{</span>\\n            <span class=\\\"token class-name\\\">Map</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">List</span><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Hcgz</span><span class=\\\"token punctuation\\\">&gt;</span><span class=\\\"token punctuation\\\">&gt;</span></span> byGzbs <span class=\\\"token operator\\\">=</span> gzs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stream</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">collect</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Collectors</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">groupingBy</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Hcgz</span><span class=\\\"token operator\\\">::</span><span class=\\\"token function\\\">getGzbs</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            <span class=\\\"token constant\\\">GZ_MAP</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">put</span><span class=\\\"token punctuation\\\">(</span>jbfy<span class=\\\"token punctuation\\\">,</span> byGzbs<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            log<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">info</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"法院id:{},加载规则条数：{}\\\"</span><span class=\\\"token punctuation\\\">,</span> jbfy<span class=\\\"token punctuation\\\">,</span> gzs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">size</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        log<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">info</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"【加载规则缓存结束...】\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">setContext</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">JajyContext</span> context<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">HcgzService</span> hcgzService<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token class-name\\\">GzCaCheUtil</span><span class=\\\"token punctuation\\\">.</span>jajyContext <span class=\\\"token operator\\\">=</span> context<span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token class-name\\\">GzCaCheUtil</span><span class=\\\"token punctuation\\\">.</span>hcgzService <span class=\\\"token operator\\\">=</span> hcgzService<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token doc-comment comment\\\">/**\\n     * GzCaCheUtil\\n     *\\n     * <span class=\\\"token keyword\\\">@description</span> 刷新规则缓存\\n     * <span class=\\\"token keyword\\\">@author</span> XieZhongCai\\n     * <span class=\\\"token keyword\\\">@date</span> 2022/1/13 17:56\\n     * <span class=\\\"token keyword\\\">@version</span> V2.0.1\\n     */</span>\\n    <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token keyword\\\">synchronized</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">refresh</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token constant\\\">GZ_MAP</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">clear</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token function\\\">init</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n\\n    <span class=\\\"token doc-comment comment\\\">/**\\n     * GzCaCheUtil\\n     *\\n     * <span class=\\\"token keyword\\\">@description</span> 根据规则标识获取结构化规则\\n     * <span class=\\\"token keyword\\\">@param</span>  <span class=\\\"token parameter\\\">gzbs</span> 规则标识\\n     * <span class=\\\"token keyword\\\">@return</span> 结构化规则\\n     * <span class=\\\"token keyword\\\">@author</span> XieZhongCai\\n     * <span class=\\\"token keyword\\\">@date</span> 2022/1/13 15:54\\n     * <span class=\\\"token keyword\\\">@version</span> V2.0.1\\n     */</span>\\n    <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">Hcgz</span> <span class=\\\"token function\\\">getGz</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">String</span> gzbs<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token class-name\\\">String</span> jbfy <span class=\\\"token operator\\\">=</span> <span class=\\\"token class-name\\\">ThreadLocalUtil</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">JyhEnum</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">JBFY</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getCode</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token class-name\\\">Map</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">List</span><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Hcgz</span><span class=\\\"token punctuation\\\">&gt;</span><span class=\\\"token punctuation\\\">&gt;</span></span> listMap <span class=\\\"token operator\\\">=</span> <span class=\\\"token constant\\\">GZ_MAP</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span>jbfy<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token comment\\\">// 如果自己法院没有初始化规则，使用指定院规则</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>listMap<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isEmpty</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n            log<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">info</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"法院id：{}，没有初始化规则，使用指定院{}规则\\\"</span><span class=\\\"token punctuation\\\">,</span> jbfy <span class=\\\"token punctuation\\\">,</span> jajyContext<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getTjjzjkFybh</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            listMap <span class=\\\"token operator\\\">=</span> <span class=\\\"token constant\\\">GZ_MAP</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span>jajyContext<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getTjjzjkFybh</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token keyword\\\">return</span> listMap<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span>gzbs<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n</code></pre><div class=\\\"line-numbers\\\" aria-hidden=\\\"true\\\"><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div></div></div>\",\"autoDesc\":true}")

if (import.meta.webpackHot) {
  import.meta.webpackHot.accept()
  if (__VUE_HMR_RUNTIME__.updatePageData) {
    __VUE_HMR_RUNTIME__.updatePageData(data)
  }
}

if (import.meta.hot) {
  import.meta.hot.accept(({ data }) => {
    __VUE_HMR_RUNTIME__.updatePageData(data)
  })
}
